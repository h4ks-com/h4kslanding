{% load static %}
<html>
<head>
<title>h4ks</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body onload="startTime()">
<script>
function startTime() {
  const today = new Date();
  let h = today.getHours();
  let m = today.getMinutes();
  let s = today.getSeconds();

  m = checkTime(m);
  s = checkTime(s);

{% for location in locations %}
  zonetime = today.toLocaleString('en-US', { timeZone: '{{ location.zone }}',day: "numeric", month: "long",year:"numeric",hour:"numeric", minute: "numeric",second:"numeric",hour12:false}).replace(",","").replace("at","")
  document.getElementById('{{ location.id }}').innerHTML =  zonetime;
{% endfor %}

  setTimeout(startTime, 1000);
}

function checkTime(i) {
  if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
  return i;
}
</script>
<style>
body {
	            font-family: Arial, sans-serif;
	            background-color: #f9f9f9;
	            color: #333;
	            margin: 0;
	            padding: 20px;
	        }
	        h1, h2 {
	            color: #4A90E2;
	        }
	        ul {
	            list-style-type: none;
	            padding: 0;
	        }
	        a {
	            text-decoration: none;
	            color: #4A90E2;
	            margin: 10px;
	        }
	        footer {
	            text-align: center;
	            padding: 20px;
	            background-color: #f1f1f1;
	        }
	        .location {
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 2px;
		}
</style>
<h1 style="text-align: center;">Welcome to the h4ks Server</h1>
<p style="font-size: 1.5em; text-align: center;">Server Time:<br><strong>{% now "d M Y H:i:s" %}</strong></p>
<h2>Useful Links</h2>
<div style="display: flex; flex-wrap: wrap; justify-content: center;">
{% for app in apps %}
 <a href="{{ app.location }}" {% if app.color %} style="color: {{app.color}}" {% endif %}>{{ app.name }}</a>
{% endfor %}
</div>

<h2>Cities Around the World</h2>
<ul style="text-align: center;">
{% for location in locations %}
<li>
<div class="location">
<strong {% if location.color %} style="color: {{ location.color }}" {% endif %}>{{ location.name }}</strong><br>
<em id="{{ location.id }}"></em>
</div>
</li>
{% endfor %}
</ul>
</body>
</html>
